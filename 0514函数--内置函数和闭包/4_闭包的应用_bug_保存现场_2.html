<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>4_闭包的应用_bug_保存现场_2</title>
	</head>
	<body>
		<script>
		/*
		//外部函数
			function inner(x){
				return function( ){
					return x*2;
				}
			}
			function f(){
				var a=[];
				for(var i=0;i<3;i++){
					a[i]=inner(i);
				}
				return a;
			}
			
			var result=f();
			document.write(  result[0]()+"<br/>"+result[1]()+"<br/>"+result[2]());
			
			
			*/
			
			/*
			//内部函数：便于维护
			
			function f(){
				function inner(x){
					return function( ){
						return x*2;
					}
				}
				
				var a=[];
				for(var i=0;i<3;i++){
					a[i]=inner(i);
				}
				return a;
			}
			
			var result=f();
			document.write(  result[0]()+"<br/>"+result[1]()+"<br/>"+result[2]());
			
			
			*/
			//内部匿名函数
			
			function f(){
				var a=[];
				for(var i=0;i<3;i++){
					a[i]=(  function (x){
								return function( ){
									return x*2;
								}
							}
						  )(i); 
				}
				return a;
			}
			
			var result=f();
			document.write(  result[0]()+"<br/>"+result[1]()+"<br/>"+result[2]());
			
		</script>
	</body>
</html>
